#Medium

# my solution
def numIslands(grid):
	if not grid:
		return 0 

	rows = len(grid)
	cols = len(grid[0])
	
	def explore(r, c):
		grid[r][c] = "0"
		directions = [(0,-1), (-1,0), (1,0), (0,1)]
		for dr, dc in directions:
			r1 = r+dr
			c1 = c+dc
			if -1<r1<rows and -1<c1<cols and grid[r1][c1] == "1":
				explore(r1, c1)

	num_islands = 0
	for r in range(rows):
		for c in range(cols):
			if grid[r][c] == '1':
				num_islands += 1
				explore(r, c)
	return num_islands

# bfs solution with a deque
def numIslandsBFS(grid):
	if not grid: return 0

	rows = len(grid)
	cols = len(grid[0])

	from collections import deque
	def bfs(r, c):
		queue = deque([(r, c)])
		while queue:
			print(queue)
			r, c = queue.popleft()
			grid[r][c] = "0"
			directions = [(0,-1), (-1,0), (1,0), (0,1)]
			for dr, dc in directions:
				r1 = r+dr 
				c1 = c+dc
				if -1<r1<rows and -1<c1<cols and grid[r1][c1] == '1':
					queue.append((r1, c1))

	num_islands = 0
	for r in range(rows):
		for c in range(cols):
			if grid[r][c] == '1':
				num_islands += 1
				bfs(r, c)
	return num_islands

grid1 = [
	['1', '1', '1', '0', '0'],
	['1', '1', '0', '0', '0'],
	['1', '1', '0', '0', '0'],
	['0', '0', '0', '1', '1']
]

grid2 = [
	['1', '1', '1', '0', '1'],
	['1', '1', '0', '1', '0'],
	['1', '0', '1', '0', '0'],
	['0', '0', '0', '1', '1'],
	['0', '0', '0', '1', '1']
]

grid3 = [
	["1", "1", "1"],
	["0", "1", "0"],
	["1", "1", "1"]
]

grid4 = [
	["1", "1", "1", "1", "0"],
	["1", "1", "0", "1", "0"],
	["1", "1", "0", "0", "0"],
	["0", "0", "0", "0", "0"]
]

grid5 = [
	["1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","0","1","0","1","1"],
	["0","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","0"],
	["1","0","1","1","1","0","0","1","1","0","1","1","1","1","1","1","1","1","1","1"],
	["1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],
	["1","0","0","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],
	["1","0","1","1","1","1","1","1","0","1","1","1","0","1","1","1","0","1","1","1"],
	["0","1","1","1","1","1","1","1","1","1","1","1","0","1","1","0","1","1","1","1"],
	["1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","0","1","1"],
	["1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1"],
	["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],
	["0","1","1","1","1","1","1","1","0","1","1","1","1","1","1","1","1","1","1","1"],
	["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],
	["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],
	["1","1","1","1","1","0","1","1","1","1","1","1","1","0","1","1","1","1","1","1"],
	["1","0","1","1","1","1","1","0","1","1","1","0","1","1","1","1","0","1","1","1"],
	["1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","1","1","0"],
	["1","1","1","1","1","1","1","1","1","1","1","1","1","0","1","1","1","1","0","0"],
	["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],
	["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"],
	["1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1","1"]
]

print(numIslands(grid1))
print(numIslands(grid2))
print(numIslands(grid3))
print(numIslands(grid4))
print(numIslands(grid5))
